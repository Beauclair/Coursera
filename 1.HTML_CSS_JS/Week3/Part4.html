<!DOCTYPE html>
<html>
	<head>
		<style>
			div{
				position:absolute;
				width:500px; 
				height:500px
			}
			img{
				position:absolute;
			}
			#rightSide { 
				left: 500px;
				border-left: 1px solid black
			}
		</style>
		
		<script>
		var numberOfFaces=5;
		function generateFaces(){
			theLeftSide = document.getElementById("leftSide");
			theRightSide = document.getElementById("rightSide");
			theBody = document.getElementsByTagName("body")[0];

			for (var i = 1; i <= numberOfFaces; i++){
				var random_number = Math.random() * 401;
				var random_number_interger = Math.floor(random_number);
				var random_number2 = Math.random() * 401;
				var random_number_interger2 = Math.floor(random_number2);
				var newImg = document.createElement("IMG");
				newImg.src="http://home.cse.ust.hk/~rossiter/mooc/matching_game/smile.png";
				newImg.style.top = random_number_interger + "px";
				newImg.style.left = random_number_interger2 + "px";
				theLeftSide.appendChild(newImg);
			}
			var leftSideImages = theLeftSide.cloneNode(true);
			var lastChildLeft = leftSideImages.removeChild(leftSideImages.lastChild);
			theRightSide.appendChild(leftSideImages);
			
			theLeftSide.lastChild.onclick = function nextLevel(event){
				event.stopPropagation();
				numberOfFaces += 5;
				while (theLeftSide.firstChild) {
				  theLeftSide.removeChild(theLeftSide.firstChild);
				}
				while (theRightSide.firstChild) {
				  theRightSide.removeChild(theRightSide.firstChild);
				}
				generateFaces();
			};
			
			theBody.onclick = function gameOver() {
				alert("Game Over!");
				theBody.onclick = null;
				theLeftSide.lastChild.onclick = null;
			}; 
		}
			
	</Script>
		
		
	</head>

	<body id = "body" onload= "generateFaces()">
		<h1>Matching Game</h1>
		<p>Click on the extra smiling face on the left</p>
		<div id="leftSide"></div>
		<div id="rightSide"></div> 
	</body>
	
</html>

